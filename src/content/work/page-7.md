---
title: "Ключевые концепции Godot"
publishDate: 2023-30-04 15:33:15
img: /assets/Godot.png
img_alt: пат
description: В данной статье вы познакомитесь с четырьмя ключевыми концепциями, которые необходимо понимать.
tags:
  - Вступление
---
#### Создание персонажа

Итак, у нас есть основная сцена. Давайте создадим сцену игрока, которая будет содержать все необходимые узлы и соответствующий скрипт.

Чтобы создать новую сцену, выберите Scene > New Scene. На панели сцены выберите Custom Node. Откроется окно, в котором мы хотим создать узел KinematicBody2D.

![Godot Create New Nodeа](/mazechanic/assets/kibo1.png)

Переименуйте узел в Player, затем сохраните его.

Давайте щелкнем правой кнопкой мыши на узле Player и выберем Add Child Node. В качестве дочернего узла мы хотим добавить узел CollisionShape2D. Затем в файловой системе найдите изображение Player_Idle и перетащите его в окно сцены, чтобы добавить его в качестве дочернего узла. Переименуйте этот узел в Sprite.

Мы хотим, чтобы наш спрайт был центрирован, поэтому выберите его и перейдите в Инспектор:
Откройте выпадающий список Transform
Установите Position на 0, 0
Актив спрайта отцентрирован в Godot

Вы можете заметить, что узел столкновения имеет символ ошибки рядом с ним. Это означает, что нам нужно придать ему форму. Выберите узел столкновения и в инспекторе установите Shape на Capsule. Чтобы сделать его видимым, измените порядок иерархии узлов, перетащив узел столкновения под узел спрайта.
Форма столкновения Capsule добавлена к 2D спрайту в Godot

Чтобы изменить свойства коллайдера, выберите фигуру в инспекторе, и откроются дополнительные опции.

#### Создание скрипта

Теперь, когда мы настроили структуру узлов, мы можем начать писать скрипты и другие объекты, которые нам понадобятся. 

Давайте щелкнем правой кнопкой мыши на узле Player и выберем Add Child Node. В качестве дочернего узла мы хотим добавить узел CollisionShape2D. Затем в файловой системе найдите изображение Player_Idle и перетащите его в окно сцены, чтобы добавить его в качестве дочернего узла. Переименуйте этот узел в Sprite.

Чтобы создать скрипт, выберите родительский узел Player и в инспекторе создайте новый скрипт. Откроется еще одно окно, просто нажмите Enter.

![Окно узла Godot с опцией New Script, выбранной для Script](/mazechanic/assets/scr.png)

После этого вы увидите, что главное окно переключится из режима 2D в режим скрипта.

![Script](/mazechanic/assets/script.png)

Godot использует свой собственный язык скриптов под названием GDScript. По синтаксису он похож на Python. Мы не будем рассматривать все аспекты этого языка или основные концепции программирования, поэтому в дальнейшем потребуется базовое понимание.

```php
extends KinematicBody2D

onready var ray = $RayCast2D
var grid_size = 32

#Inputs
var inputs = {
	'ui_up': Vector2.UP,
	'ui_down': Vector2.DOWN,
	'ui_left': Vector2.LEFT,
	'ui_right': Vector2.RIGHT
}

func _unhandled_input(event):
	for dir in inputs.keys():
		if event.is_action_pressed(dir):
			if $Tween.is_active() == false:
				move(dir)
#Moving
func move(dir):
	var game = get_parent()
	var vector_pos = inputs[dir]*grid_size
	ray.cast_to = vector_pos
	ray.force_raycast_update()
	$Tween.interpolate_property(self, "position", position, 
	position + vector_pos, 0.1,
	Tween.TRANS_BACK, Tween.EASE_OUT)
```